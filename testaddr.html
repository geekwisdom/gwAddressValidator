<html>
<script src="./scripts/org/geekwisdom/webui/gwAddressValidator.js"></script>
<script src="https://cdn.jsdelivr.net/gh/geekwisdom/gwAddressValidator/data/CA_ADDR.js"></script>
<body>
<h1>Address AutoFill / Validation tester 0.1</h1>
<img src="./img/envelope.png" style="width:250px;"></img>
<table>
<tr>
<td>Country</td><td><select id="country"><option name="CA">Canada</option></select></td>
<td>Postal Code:</td><td><input type="text" id="postalcode" onblur='doValidate(document.getElementById("country").value,this.value);'></input></td>
</tr>

<td >Street No.</td><td><input type="text" id="StreetNo" size=5></input></td><td >Address Line 1</td><td ><input type="text" id="Address_Line1" size=20></input></td>
</tr>
<tr>
<td>Address Line 2</td><td  colspan="3" ><input type="text" id="Address_Line2" size=50></input></td>
</tr>
<tr>
<td>City/Town</td><td  colspan="3" ><input type="text" id="CityTown" size=50></input></td>
</tr>

<tr>
<td>Province</td><td  colspan="3" ><input type="text" id="Province" size=50></input></td>
</tr>

</table>
<button onclick="ValidateAddress();">Validate Address</button>
<script>
function doValidate(country,pcode)
{
var myAddrValidator = new gwAddrValidator(FillAddress);
myAddrValidator.ValidateAddress(country,pcode);
}

function FillAddress(res)
{
document.getElementById("Address_Line1").value = res["ADDR1"];
document.getElementById("Address_Line2").value = res["ADDR2"];
document.getElementById("CityTown").value = res["MUNC"];
document.getElementById("Province").value = res["PRINCIPAL"];
}


</script>
</body>
</html>
